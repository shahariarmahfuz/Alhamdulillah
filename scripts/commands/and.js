module.exports.config = {
	name: "and",
	version: "1.0.0",
	permission: 0,
	credits: "nayan",
	prefix: true,
	description: "Download a random image from a set of categories",
	category: "media",
	usages: "image",
	cooldowns: 5,
	dependencies: {
		"axios": "",
		"fs-extra": "",
		"googlethis": "",
		"cloudscraper": ""
	}
};

module.exports.run = async ({ api, event }) => {
	const axios = global.nodemodule['axios'];
	const google = global.nodemodule["googlethis"];
	const cloudscraper = global.nodemodule["cloudscraper"];
	const fs = global.nodemodule["fs-extra"];

	const hadisList = [
			   `рж╣ржпрж░ржд ржЗржмржирзЗ ржЙржорж░ (рж░рж╛.) ржмрж▓рзЗржи, ржЖрж▓рзНрж▓рж╛рж╣рж░ рж░рж╛рж╕рзВрж▓ (рж╕рж╛ржГ) ржмрж▓рзЗржЫрзЗржи:
- ржЗрж╕рж▓рж╛ржо ржкрж╛ржБржЪржЯрж┐ рж╕рзНрждржорзНржнрзЗрж░ ржЙржкрж░ рж╕рзНржерж╛ржкрж┐ржд (ржПржЧрзБрж▓рзЛ рж╣рж▓) ржПржЗ рж╕рж╛ржХрзНрж╖рзНржп ржжрзЗржУржпрж╝рж╛ ржпрзЗ, ржЖрж▓рзНрж▓рж╛рж╣ ржмрзНржпрждрзАржд ржЖрж░ ржХрзЛржирзЛ ржЗрж▓рж╛рж╣ ржирзЗржЗ ржПржмржВ ржорзБрж╣рж╛ржорзНржоржж ржЖрж▓рзНрж▓рж╛рж╣рж░ рж░рж╛рж╕рзВрж▓, рж╕рж╛рж▓рж╛ржд ржЖржжрж╛ржпрж╝ ржХрж░рж╛, ржпрж╛ржХрж╛ржд ржЖржжрж╛ржпрж╝ ржХрж░рж╛, рж╣ржЬрзНржЬ ржЖржжрж╛ржпрж╝ ржХрж░рж╛ ржПржмржВ рж░ржорж╛ржпрж╛ржирзЗрж░ ржЫрж┐ржпрж╝рж╛ржо ржкрж╛рж▓ржи ржХрж░рж╛ред [ржмрзБржЦрж╛рж░рзАржГ рзн]`,
		`рж╣ржпрж░ржд ржЖржирж╛рж╕ (рж░рж╛ржГ) ржмрж▓рзЗржи, ржЖрж▓рзНрж▓рж╛рж╣рж░ рж░рж╛рж╕рзВрж▓ (рж╕рж╛ржГ) ржмрж▓рзЗржЫрзЗржи:
- ржпрж╛рж░ ржоржзрзНржпрзЗ рждрж┐ржиржЯрж┐ ржЧрзБржг рж░ржпрж╝рзЗржЫрзЗ рж╕рзЗ ржИржорж╛ржирзЗрж░ рж╕рзНржмрж╛ржж ржЕржирзБржнржм ржХрж░ржмрзЗ, (ржХ) рждрж╛рж░ ржХрж╛ржЫрзЗ ржЕржирзНржп рж╕ржмрж╛рж░ рждрзБрж▓ржирж╛ржпрж╝ ржЖрж▓рзНрж▓рж╛рж╣ ржУ рж░рж╛рж╕рзВрж▓ (рж╕рж╛ржГ) ржкрзНрж░рж┐ржпрж╝рждрж░ рж╣ржпрж╝, (ржЦ) ржХрж╛ржЙржХрзЗ ржнрж╛рж▓рзЛржмрж╛рж╕рж▓рзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржЬржирзНржпржЗ ржнрж╛рж▓рзЛржмрж╛рж╕рзЗ, (ржЧ) ржЖржЧрзБржирзЗ ржлрж┐рж░рзЗ ржпрж╛ржУржпрж╝рж╛ржХрзЗ ржпрзЗржоржи ржЕржкрзНрж░рж┐ржпрж╝ ржЬрж╛ржирзЗ, ржХрзБржлрж░рж┐рждрзЗ ржлрж┐рж░рзЗ ржпрж╛ржУржпрж╝рж╛ржХрзЗ рждрзЗржоржи ржЕржкрзНрж░рж┐ржпрж╝ ржоржирзЗ ржХрж░рзЗред
- [ржмрзБржЦрж╛рж░рзАржГ рззрзл]`,
		` ржЖржмрзВ рж╣рзБрж░рж╛ржпрж╝рж░рж╛ рж░рж╛ржжрж┐ржпрж╝рж╛рж▓рзНрж▓рж╛рж╣рзБ тАШржЖржирж╣рзБ рж╣рждрзЗ ржмрж░рзНржгрж┐ржд рж╣ржпрж╝рзЗржЫрзЗ, рж░рж╛рж╕рзВрж▓рзБрж▓рзНрж▓рж╛рж╣рзН рж╕рж╛рж▓рзНрж▓рж╛рж▓рзНрж▓рж╛рж╣рзБ тАШржЖрж▓рж╛ржЗрж╣рж┐ ржУржпрж╝рж╛рж╕рж╛рж▓рзНрж▓рж╛ржо ржмрж▓рзЗржЫрзЗржи:тЬи
- ржкрзНрж░рждрзНржпрзЗрж╣ ржпржЦржи рж╕рзВрж░рзНржп ржЙржарзЗ ржорж╛ржирзБрж╖рзЗрж░ (рж╢рж░рзАрж░рзЗрж░) ржкрзНрж░рждрзНржпрзЗржХ ржЧрзНрж░ржирзНржерж┐рж░ рж╕рж╛ржжржХрж╛рж╣рзН ржжрзЗржпрж╝рж╛ ржЕржмрж╢рзНржп ржХрж░рзНрждржмрзНржпред ржжрзБ'ржЬржи ржорж╛ржирзБрж╖рзЗрж░ ржорж╛ржЭрзЗ ржЗржирж╕рж╛ржл ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ рж╕рж╛ржжржХрж╛рж╣рзН, ржХрзЛржи ржЖрж░рзЛрж╣рзАржХрзЗ рждрж╛рж░ ржмрж╛рж╣ржирзЗрж░ ржЙржкрж░ ржЖрж░рзЛрж╣ржи ржХрж░рждрзЗ ржмрж╛ рждрж╛рж░ ржЙржкрж░ ржмрзЛржЭрж╛ ржЙржарж╛рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ рж╕рж╛ржжржХрж╛рж╣рзН, ржнрж╛рж▓ ржХржерж╛ рж╣ржЪрзНржЫрзЗ рж╕рж╛ржжржХрж╛рж╣рзН, рж╕рж╛рж▓рж╛рждрзЗрж░ ржЬржирзНржп ржкрзНрж░рждрзНржпрзЗржХ ржкржжржХрзНрж╖рзЗржк рж╣ржЪрзНржЫрзЗ рж╕рж╛ржжржХрж╛рж╣рзН ржПржмржВ ржХрж╖рзНржЯржжрж╛ржпрж╝ржХ ржЬрж┐ржирж┐рж╕ рж░рж╛рж╕рзНрждрж╛ ржерзЗржХрзЗ рж╕рж░рж╛ржирзЛ рж╣ржЪрзНржЫрзЗ рж╕рж╛ржжржХрж╛рж╣рзНред  ЁЯдНЁЯеА
- [ржмрзБржЦрж╛рж░рзА: рзирзпрзорзп, ржорзБрж╕рж▓рж┐ржо: рззрзжрзжрзп]`,
` ржЖржмрзБ рж╣рзБрж░рж╛ржЗрж░рж╛ (рж░рж╛ржГ) ржерзЗржХрзЗ ржмрж░рзНржгрж┐рждред рж░рж╛рж╕рзВрж▓рзБрж▓рзНрж▓рж╛рж╣ рж╕рж╛рж▓рзНрж▓рж╛рж▓рзНрж▓рж╛рж╣рзБ ржЖрж▓рж╛ржЗрж╣рж┐ ржУржпрж╝рж╛ рж╕рж╛рж▓рзНрж▓рж╛ржо ржмрж▓рзЗржЫрзЗржи: тЬи
-  ржмрж╛ржирзНржжрж╛ ржпржЦржи рж╕рж┐ржЬржжрж╛ржпрж╝ ржерж╛ржХрзЗ рждржЦржи рждрж╛рж░ рж░ржмрзЗрж░ рж╕ржмржЪрж╛ржЗрждрзЗ ржирж┐ржХржЯржмрж░рзНрждрзА рж╣ржпрж╝ред ржХрж╛ржЬрзЗржЗ рждрзЛржорж░рж╛ (рж╕рж┐ржЬржжрж╛ржпрж╝ ржЧрж┐ржпрж╝рзЗ) ржмрзЗрж╢рж┐ ржХрж░рзЗ ржжрзБтАЩржЖ ржХрж░ ЁЯдНЁЯеА
- [ржорзБрж╕рж▓рж┐ржо, рж░рж┐ржпрж╝рж╛ржжрзБрж╕ рж╕рж╛рж▓рзЗрж╣рзАржи- рззрзкрзпрзо]`,
` ржЖржмрзБ рж╣рзБрж░рж╛ржпрж╝рж░рж╛ (рж░рж╛) рж╣рждрзЗ ржмрж░рзНржгрж┐рждред рждрж┐ржирж┐ ржмрж▓рзЗржи, рж░рж╕рзВрж▓ (рж╕.) ржмрж▓рзЗржЫрзЗржи:тЬи
-   ржпрзЗ рждрж╛рж░ рж╣рж╛рж▓рж╛рж▓ рж░рзЛржпржЧрж╛рж░ ржерзЗржХрзЗ ржПржХржЯрж┐ ржЦрзЗржЬрзБрж░ ржкрж░рж┐ржорж╛ржг ржжрж╛ржи ржХрж░ржмрзЗ (ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛ ржХржмрзБрж▓ ржХрж░ржмрзЗржи) ржПржмржВ ржЖрж▓рзНрж▓рж╛рж╣ рж╣рж╛рж▓рж╛рж▓ ржмрж╕рзНрждрзБ ржЫрж╛ржбрж╝рж╛ ржХрж┐ржЫрзБржЗ ржЧрзНрж░рж╣ржи ржХрж░рзЗржи ржирж╛ред ржЖрж░ ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛ рждрж╛рж░ ржбрж╛ржи рж╣рж╛рждрзЗ ржЧрзНрж░рж╣ржг ржХрж░ржмрзЗржиред ржЕрждржГржкрж░ рждрж╛рж░ ржжрж╛ржиржХрж╛рж░рзАрж░ ржЬржирзНржп рждрж╛ ржкрзНрж░рждрж┐ржкрж╛рж▓ржи ржХрж░рждрзЗ ржерж╛ржХрзЗржи ржпрзЗрж░рзВржк рждрзЛржорж╛ржжрзЗрж░ ржХрзЗржЙ рждрж╛рж░ ржЕрж╢рзНржм-рж╢рж╛ржмржХржХрзЗ рж▓рж╛рж▓ржи-ржкрж╛рж▓ржи ржХрж░рждрзЗ ржерж╛ржХрзЗред ржЕржмрж╢рзЗрж╖рзЗ ржПржХржжрж┐ржи рждрж╛ ржкрж╛рж╣рж╛ржбрж╝ рж╕ржорждрзБрж▓рзНржп рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝ред ЁЯдНЁЯеА
- [рж╕рж╣рзАрж╣рзБрж▓ ржмрзБржЦрж╛рж░рзА рж╣рж╛/рзнрзкрзйрзж, рззрзкрззрзж: (рждрж╛ржУрж╣рзАржж ржкрзНрж░ржХрж╛рж╢ржирзА); рж╕рж╣рзАрж╣рзБрж▓ ржорзБрж╕рж▓рж┐ржоржГ рзирзирззрзз]`,
` ржЖржмрзВ рж╣рзБрж░рж╛ржЗрж░рж╛рж╣ ржЖржмрзНржжрзБрж░ рж░рж╣ржорж╛ржи ржЗржмржирзБрзВ рж╕рж╛ржЦрж░ рж░рж╛ржжрж┐ржпрж╝рж╛рж▓рзНрж▓рж╛рж╣рзБ тАШржЖржирж╣рзБ ржХрж░рзНрждрзГржХ ржмрж░рзНржгрж┐ржд, рж░рж╛рж╕рзВрж▓рзБрж▓рзНрж▓рж╛рж╣ рж╕рж╛рж▓рзНрж▓рж╛рж▓рзНрж▓рж╛рж╣рзБ ржЖрж▓рж╛ржЗрж╣рж┐ ржУржпрж╝рж╛рж╕рж╛рж▓рзНрж▓рж╛ржо ржмрж▓рзЗржЫрзЗржи:тЬи
-   ржирж┐рж╢рзНржЪржпрж╝ ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛тАШржЖрж▓рж╛ рждрзЛржорж╛ржжрзЗрж░ ржжрзЗрж╣ ржПржмржВ рждрзЛржорж╛ржжрзЗрж░ ржЖржХрзГрждрж┐ ржжрзЗржЦрзЗржи ржирж╛, ржмрж░ржВ рждрж┐ржирж┐ рждрзЛржорж╛ржжрзЗрж░ ржЕржирзНрждрж░ ржУ ржЖржорж▓ ржжрзЗржЦрзЗржи ЁЯдНЁЯеА
- [рж╕рж╣рзАрж╣рзБрж▓ ржмрзБржЦрж╛рж░рзА рзлрззрзкрзк, рзмрзжрзмрзм, ржорзБрж╕рж▓рж┐ржо рзирзлрзмрзк]`,
` ржЖржмрзБ ржпрж╛рж░ (рж░рж╛ржГ) ржерзЗржХрзЗ ржмрж░рзНржгрж┐ржд, рждрж┐ржирж┐ ржмрж▓рзЗржи ржпрзЗ, ржиржмрзА (рж╕ржГ) ржЖржорж╛ржХрзЗ ржмрж▓рзЗржЫрзЗржи:тЬи
-  рждрзБржорж┐ ржкрзВржгрзНржпрзЗрж░ ржХрзЛржи ржХрж╛ржЬ ржХрзЗ рждрзБржЪрзНржЫ ржоржирзЗ ржХрж░рзЛ ржирж╛ред ржпржжрж┐ржУ рждрзБржорж┐ рждрзЛржорж╛рж░ (ржорзБрж╕рж▓рж┐ржо) ржнрж╛ржЗржпрж╝рзЗрж░ рж╕ржЩрзНржЧрзЗ рж╣рж╛рж╕рж┐ржорзБржЦрзЗ рж╕рж╛ржХрзНрж╖рж╛ржд ржХрж░рждрзЗ ржкрж╛рж░ред  ЁЯдНЁЯеА
- [рж░рж┐ржпрж╝рж╛ржжрзБрж╕ рж╕рж╛рж▓рзЗрж╣рзАржиржГ рззрзирзй, ржорзБрж╕рж▓рж┐ржо- рзирзмрзирзм, рждрж┐рж░ржорж┐ржпрзА- рззрзорзйрзй, ржЗржмржирзЗ ржорж╛ржЬрж╛рж╣- рзйрзйрзмрзи, ржжрж╛рж░рзЗржорзА- рзирзжрзнрзп]`,
` ржЖржирж╛рж╕ (рж░рж╛ржГ) ржерзЗржХрзЗ ржмрж░рзНржгрж┐ржд, рж░рж╛рж╕рзВрж▓рзБрж▓рзНрж▓рж╛рж╣ (рж╕ржГ) ржмрж▓рзЗржи:тЬи
-  рждрж┐ржиржЯрж┐ ржЬрж┐ржирж┐рж╕ ржорзГржд ржмрзНржпржХрзНрждрж┐рж░ рж╕ржЩрзНржЧрзЗ ржпрж╛ржпрж╝ржГ ржЖрждрзНржорзАржпрж╝-рж╕рзНржмржЬржи, рждрж╛рж░ ржорж╛рж▓ ржУ рждрж╛рж░ ржЖ'ржорж▓ред ржЕрждржГржкрж░ ржжрзБржЯрж┐ ржЬрж┐ржирж┐рж╕ ржлрж┐рж░рзЗ ржЖрж╕рзЗ ржПржмржВ ржПржХржЯрж┐ ржЬрж┐ржирж┐рж╕ рж░ржпрж╝рзЗ ржпрж╛ржпрж╝ред рждрж╛рж░ ржЖрждрзНржорзАржпрж╝-рж╕рзНржмржЬржи ржУ рждрж╛рж░ ржорж╛рж▓ ржлрж┐рж░рзЗ ржЖрж╕рзЗ ржПржмржВ рждрж╛рж░ ржЖ'ржорж▓ (рждрж╛рж░ рж╕ржЩрзНржЧрзЗ) рж░ржпрж╝рзЗ ржпрж╛ржпрж╝ред ЁЯдНЁЯеА
- [рж░рж┐ржпрж╝рж╛ржжрзБрж╕ рж╕рж╛рж▓рзЗрж╣рзАржи- рззрзжрзм, ржмрзБржЦрж╛рж░рзА- рзмрзлрззрзк, ржорзБрж╕рж▓рж┐ржо- рзирзпрзмрзж, рждрж┐рж░ржорж┐ржпрзА- рзирзйрзнрзп, ржирж╛рж╕рж╛ржпрж╝рзА- рззрзпрзйрзн, ржЖрж╣ржорж╛ржж- рззрззрзмрзнрзж]`,
` ржЖржмрзВ рж╣рзБрж░рж╛ржЗрж░рж╛ рж╣рждрзЗ ржмрж░рзНржгрж┐ржд, рждрж┐ржирж┐ ржмрж▓рзЗржи, рж░рж╛рж╕рзВрж▓рзБрж▓рзНрж▓рж╛рж╣ (рж╕рж╛:) ржмрж▓рзЗржи:тЬи
-    ржорж╣рж╛ржи ржЖрж▓рзНрж▓рж╛рж╣ ржмрж▓рзЗржЫрзЗржи, тАШржЖржорж┐ ржЖржорж╛рж░ ржкрзБржгрзНржпржмрж╛ржи ржмрж╛ржирзНржжрж╛ржжрзЗрж░ ржЬржирзНржп ржПржоржи ржЬрж┐ржирж┐рж╕ ржкрзНрж░рж╕рзНрждрзБржд рж░рзЗржЦрзЗржЫрж┐, ржпрж╛ ржХрзЛржи ржЪржХрзНрж╖рзБ ржжрж░рзНрж╢ржи ржХрж░рзЗржирж┐, ржХрзЛржи ржХрж░рзНржи рж╢рзНрж░ржмржи ржХрж░рзЗржирж┐ ржПржмржВ ржпрж╛рж░ рж╕ржорзНржкрж░рзНржХрзЗ ржХрзЛржи ржорж╛ржирзБрж╖рзЗрж░ ржоржирзЗ ржзрж╛рж░ржгрж╛ржУ ржЬржирзНржорзЗржирж┐ред рждрзЛржорж░рж╛ ржЪрж╛ржЗрж▓рзЗ ржП ржЖржпрж╝рж╛рждржЯрж┐ ржкрж╛ржа ржХрж░рждрзЗ ржкрж╛рж░; ржпрж╛рж░ ржЕрж░рзНрже- тАЬржХрзЗржЙржЗ ржЬрж╛ржирзЗ ржирж╛ рждрж╛рж░ ржЬржирзНржп рждрж╛рж░ ржХрзГрждржХрж░рзНржорзЗрж░ ржмрж┐ржирж┐ржоржпрж╝ рж╕рзНржмрж░рзВржк ржиржпрж╝ржи-ржкрзНрж░рзАрждрж┐ржХрж░ ржХрзА ржкрзБрж░рж╕рзНржХрж╛рж░ рж▓рзБржХрж┐ржпрж╝рзЗ рж░рж╛ржЦрж╛ рж╣ржпрж╝рзЗржЫрзЗред (рж╕рзВрж░рж╛ рж╕рж╛ржЬржжрж╛рж╣- рззрзн) ЁЯдНЁЯеА
- [рж╕рж╣рзАрж╣рзБрж▓ ржмрзБржЦрж╛рж░рзА- рзйрзирзкрзк, рзкрзнрзнрзп,рзкрзнрзорзж]`
		// ржПржЦрж╛ржирзЗ ржЖрж░ржУ рж╣рж╛ржжрж┐рж╕ ржпрзЛржЧ ржХрж░рзБржи
	];

	const queries = ["Muslim worshiping and praying", "Kaaba image", "beautiful flower","madina","beautiful masjid","Quran","best masjid in the world","beautiful masjid al aqsa"]; // рж╕рж╛рж░рзНржЪ ржХрзЛржпрж╝рзЗрж░рж┐рж░ ржЕрзНржпрж╛рж░рзЗ

	try {
		const randomQuery = queries[Math.floor(Math.random() * queries.length)]; // рж░рзЗржиржбржо ржХрзЛржпрж╝рзЗрж░рж┐ ржирж┐рж░рзНржмрж╛ржЪржи
		let result = await google.image(randomQuery, { safe: false });
		if (result.length === 0) return; // ржХрзЛржирзЛ ржорзЗрж╕рзЗржЬ ржкрзНрж░ржжрж░рзНрж╢ржи ржирж╛ ржХрж░рзЗ ржлрж╛ржВрж╢ржи ржерзЗржХрзЗ ржмрзЗрж░ рж╣ржпрж╝рзЗ ржпрж╛ржмрзЗ

		const randomIndex = Math.floor(Math.random() * result.length);
		const imageUrl = result[randomIndex].url;
		const randomHadis = hadisList[Math.floor(Math.random() * hadisList.length)]; // рж░рзЗржиржбржо рж╣рж╛ржжрж┐рж╕ ржирж┐рж░рзНржмрж╛ржЪржи

		let path = __dirname + `/cache/image.jpg`;
		let buffer = await cloudscraper.get({ uri: imageUrl, encoding: null });
		fs.writeFileSync(path, buffer);

		api.sendMessage({ body: randomHadis, attachment: fs.createReadStream(path) }, event.threadID, () => {
			fs.unlinkSync(path); // ржбрж╛ржЙржирж▓рзЛржб ржХрж░рж╛ ржЫржмрж┐ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ рж╣ржпрж╝рзЗржЫрзЗ
		});
	} catch (error) {
		// ржХрзЛржирзЛ ржзрж░ржирзЗрж░ рждрзНрж░рзБржЯрж┐ ржмрж╛ рж╕ржорж╕рзНржпрж╛ ржорзЗрж╕рзЗржЬ ржкрзНрж░ржжрж░рзНрж╢ржи ржирж╛ ржХрж░рзЗ ржлрж╛ржВрж╢ржи ржерзЗржХрзЗ ржмрзЗрж░ рж╣ржпрж╝рзЗ ржпрж╛ржмрзЗ
		return;
	}
};
