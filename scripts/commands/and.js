module.exports.config = {
	name: "and",
	version: "1.0.0",
	permission: 0,
	credits: "nayan",
	prefix: true,
	description: "Download a random image from a set of categories",
	category: "media",
	usages: "image",
	cooldowns: 5,
	dependencies: {
		"axios": "",
		"fs-extra": "",
		"googlethis": "",
		"cloudscraper": ""
	}
};

module.exports.run = async ({ api, event }) => {
	const axios = global.nodemodule['axios'];
	const google = global.nodemodule["googlethis"];
	const cloudscraper = global.nodemodule["cloudscraper"];
	const fs = global.nodemodule["fs-extra"];

	const hadisList = [
		["тАв\nтАУ ржХрзЛржирзЛ ржирзЗрждрж╛рж░ ржкрж┐ржЫржирзЗ ржирзЯ.!!ЁЯд╕тАНтЩВя╕П\nтАУ ржорж╕ржЬрж┐ржжрзЗрж░ ржЗржорж╛ржорзЗрж░ ржкрж┐ржЫржирзЗ ржжрж╛рзЬрж╛ржУ ржЬрзАржмржи ржмржжрж▓рзЗ ржпрж╛ржмрзЗ ржЗржирж╢рж╛ржЖрж▓рзНрж▓рж╛рж╣.!!ЁЯЦдЁЯМ╗\n█╡",
           "тАв\nтАУ рж╣ржпрж░ржд ржЗржмржирзЗ ржЙржорж░ (рж░рж╛.) ржмрж▓рзЗржи, ржЖрж▓рзНрж▓рж╛рж╣рж░ рж░рж╛рж╕рзВрж▓ (рж╕рж╛ржГ) ржмрж▓рзЗржЫрзЗржи:ЁЯд╕тАНтЩВя╕П\nтАУ ржЗрж╕рж▓рж╛ржо ржкрж╛ржБржЪржЯрж┐ рж╕рзНрждржорзНржнрзЗрж░ ржЙржкрж░ рж╕рзНржерж╛ржкрж┐ржд (ржПржЧрзБрж▓рзЛ рж╣рж▓) ржПржЗ рж╕рж╛ржХрзНрж╖рзНржп ржжрзЗржУржпрж╝рж╛ ржпрзЗ, ржЖрж▓рзНрж▓рж╛рж╣ ржмрзНржпрждрзАржд ржЖрж░ ржХрзЛржирзЛ ржЗрж▓рж╛рж╣ ржирзЗржЗ ржПржмржВ ржорзБрж╣рж╛ржорзНржоржж ржЖрж▓рзНрж▓рж╛рж╣рж░ рж░рж╛рж╕рзВрж▓, рж╕рж╛рж▓рж╛ржд ржЖржжрж╛ржпрж╝ ржХрж░рж╛, ржпрж╛ржХрж╛ржд ржЖржжрж╛ржпрж╝ ржХрж░рж╛, рж╣ржЬрзНржЬ ржЖржжрж╛ржпрж╝ ржХрж░рж╛ ржПржмржВ рж░ржорж╛ржпрж╛ржирзЗрж░ ржЫрж┐ржпрж╝рж╛ржо ржкрж╛рж▓ржи ржХрж░рж╛редЁЯЦдЁЯМ╗\n- [ржмрзБржЦрж╛рж░рзАржГ рзн]\n█╡",
"тАв\nтАУ рж╣ржпрж░ржд ржЖржирж╛рж╕ (рж░рж╛ржГ) ржмрж▓рзЗржи, ржЖрж▓рзНрж▓рж╛рж╣рж░ рж░рж╛рж╕рзВрж▓ (рж╕рж╛ржГ) ржмрж▓рзЗржЫрзЗржи:.!!ЁЯд╕тАНтЩВя╕П\nтАУ ржпрж╛рж░ ржоржзрзНржпрзЗ рждрж┐ржиржЯрж┐ ржЧрзБржг рж░ржпрж╝рзЗржЫрзЗ рж╕рзЗ ржИржорж╛ржирзЗрж░ рж╕рзНржмрж╛ржж ржЕржирзБржнржм ржХрж░ржмрзЗ, (ржХ) рждрж╛рж░ ржХрж╛ржЫрзЗ ржЕржирзНржп рж╕ржмрж╛рж░ рждрзБрж▓ржирж╛ржпрж╝ ржЖрж▓рзНрж▓рж╛рж╣ ржУ рж░рж╛рж╕рзВрж▓ (рж╕рж╛ржГ) ржкрзНрж░рж┐ржпрж╝рждрж░ рж╣ржпрж╝, (ржЦ) ржХрж╛ржЙржХрзЗ ржнрж╛рж▓рзЛржмрж╛рж╕рж▓рзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржЬржирзНржпржЗ ржнрж╛рж▓рзЛржмрж╛рж╕рзЗ, (ржЧ) ржЖржЧрзБржирзЗ ржлрж┐рж░рзЗ ржпрж╛ржУржпрж╝рж╛ржХрзЗ ржпрзЗржоржи ржЕржкрзНрж░рж┐ржпрж╝ ржЬрж╛ржирзЗ, ржХрзБржлрж░рж┐рждрзЗ ржлрж┐рж░рзЗ ржпрж╛ржУржпрж╝рж╛ржХрзЗ рждрзЗржоржи ржЕржкрзНрж░рж┐ржпрж╝ ржоржирзЗ ржХрж░рзЗред.!!ЁЯЦдЁЯМ╗\n-[ржмрзБржЦрж╛рж░рзАржГ рззрзл]\n█╡",
"тАв\nтАУ ржЖржмрзВ рж╣рзБрж░рж╛ржпрж╝рж░рж╛ рж░рж╛ржжрж┐ржпрж╝рж╛рж▓рзНрж▓рж╛рж╣рзБ тАШржЖржирж╣рзБ рж╣рждрзЗ ржмрж░рзНржгрж┐ржд рж╣ржпрж╝рзЗржЫрзЗ, рж░рж╛рж╕рзВрж▓рзБрж▓рзНрж▓рж╛рж╣рзН рж╕рж╛рж▓рзНрж▓рж╛рж▓рзНрж▓рж╛рж╣рзБ тАШржЖрж▓рж╛ржЗрж╣рж┐ ржУржпрж╝рж╛рж╕рж╛рж▓рзНрж▓рж╛ржо ржмрж▓рзЗржЫрзЗржи:.!!ЁЯд╕тАНтЩВя╕П\nтАУ ржкрзНрж░рждрзНржпрзЗрж╣ ржпржЦржи рж╕рзВрж░рзНржп ржЙржарзЗ ржорж╛ржирзБрж╖рзЗрж░ (рж╢рж░рзАрж░рзЗрж░) ржкрзНрж░рждрзНржпрзЗржХ ржЧрзНрж░ржирзНржерж┐рж░ рж╕рж╛ржжржХрж╛рж╣рзН ржжрзЗржпрж╝рж╛ ржЕржмрж╢рзНржп ржХрж░рзНрждржмрзНржпред ржжрзБ'ржЬржи ржорж╛ржирзБрж╖рзЗрж░ ржорж╛ржЭрзЗ ржЗржирж╕рж╛ржл ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ рж╕рж╛ржжржХрж╛рж╣рзН, ржХрзЛржи ржЖрж░рзЛрж╣рзАржХрзЗ рждрж╛рж░ ржмрж╛рж╣ржирзЗрж░ ржЙржкрж░ ржЖрж░рзЛрж╣ржи ржХрж░рждрзЗ ржмрж╛ рждрж╛рж░ ржЙржкрж░ ржмрзЛржЭрж╛ ржЙржарж╛рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ рж╕рж╛ржжржХрж╛рж╣рзН, ржнрж╛рж▓ ржХржерж╛ рж╣ржЪрзНржЫрзЗ рж╕рж╛ржжржХрж╛рж╣рзН, рж╕рж╛рж▓рж╛рждрзЗрж░ ржЬржирзНржп ржкрзНрж░рждрзНржпрзЗржХ ржкржжржХрзНрж╖рзЗржк рж╣ржЪрзНржЫрзЗ рж╕рж╛ржжржХрж╛рж╣рзН ржПржмржВ ржХрж╖рзНржЯржжрж╛ржпрж╝ржХ ржЬрж┐ржирж┐рж╕ рж░рж╛рж╕рзНрждрж╛ ржерзЗржХрзЗ рж╕рж░рж╛ржирзЛ рж╣ржЪрзНржЫрзЗ рж╕рж╛ржжржХрж╛рж╣рзНред.!!ЁЯЦдЁЯМ╗\n- [ржмрзБржЦрж╛рж░рзА: рзирзпрзорзп, ржорзБрж╕рж▓рж┐ржо: рззрзжрзжрзп]\n█╡",
"тАв\nтАУ ржЖржмрзБ рж╣рзБрж░рж╛ржЗрж░рж╛ (рж░рж╛ржГ) ржерзЗржХрзЗ ржмрж░рзНржгрж┐рждред рж░рж╛рж╕рзВрж▓рзБрж▓рзНрж▓рж╛рж╣ рж╕рж╛рж▓рзНрж▓рж╛рж▓рзНрж▓рж╛рж╣рзБ ржЖрж▓рж╛ржЗрж╣рж┐ ржУржпрж╝рж╛ рж╕рж╛рж▓рзНрж▓рж╛ржо ржмрж▓рзЗржЫрзЗржи:.!!ЁЯд╕тАНтЩВя╕П\nтАУ ржмрж╛ржирзНржжрж╛ ржпржЦржи рж╕рж┐ржЬржжрж╛ржпрж╝ ржерж╛ржХрзЗ рждржЦржи рждрж╛рж░ рж░ржмрзЗрж░ рж╕ржмржЪрж╛ржЗрждрзЗ ржирж┐ржХржЯржмрж░рзНрждрзА рж╣ржпрж╝ред ржХрж╛ржЬрзЗржЗ рждрзЛржорж░рж╛ (рж╕рж┐ржЬржжрж╛ржпрж╝ ржЧрж┐ржпрж╝рзЗ) ржмрзЗрж╢рж┐ ржХрж░рзЗ ржжрзБтАЩржЖ ржХрж░ред.!!ЁЯЦдЁЯМ╗\n- [ржорзБрж╕рж▓рж┐ржо, рж░рж┐ржпрж╝рж╛ржжрзБрж╕ рж╕рж╛рж▓рзЗрж╣рзАржи- рззрзкрзпрзо] \n тЩея╕ПтЬи"
"тАв\nтАУ ржЖржмрзБ рж╣рзБрж░рж╛ржпрж╝рж░рж╛ (рж░рж╛) рж╣рждрзЗ ржмрж░рзНржгрж┐рждред рждрж┐ржирж┐ ржмрж▓рзЗржи, рж░рж╕рзВрж▓ (рж╕.) ржмрж▓рзЗржЫрзЗржи: !!ЁЯд╕тАНтЩВя╕П\nтАУ ржпрзЗ рждрж╛рж░ рж╣рж╛рж▓рж╛рж▓ рж░рзЛржпржЧрж╛рж░ ржерзЗржХрзЗ ржПржХржЯрж┐ ржЦрзЗржЬрзБрж░ ржкрж░рж┐ржорж╛ржг ржжрж╛ржи ржХрж░ржмрзЗ (ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛ ржХржмрзБрж▓ ржХрж░ржмрзЗржи) ржПржмржВ ржЖрж▓рзНрж▓рж╛рж╣ рж╣рж╛рж▓рж╛рж▓ ржмрж╕рзНрждрзБ ржЫрж╛ржбрж╝рж╛ ржХрж┐ржЫрзБржЗ ржЧрзНрж░рж╣ржи ржХрж░рзЗржи ржирж╛ред ржЖрж░ ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛ рждрж╛рж░ ржбрж╛ржи рж╣рж╛рждрзЗ ржЧрзНрж░рж╣ржг ржХрж░ржмрзЗржиред ржЕрждржГржкрж░ рждрж╛рж░ ржжрж╛ржиржХрж╛рж░рзАрж░ ржЬржирзНржп рждрж╛ ржкрзНрж░рждрж┐ржкрж╛рж▓ржи ржХрж░рждрзЗ ржерж╛ржХрзЗржи ржпрзЗрж░рзВржк рждрзЛржорж╛ржжрзЗрж░ ржХрзЗржЙ рждрж╛рж░ ржЕрж╢рзНржм-рж╢рж╛ржмржХржХрзЗ рж▓рж╛рж▓ржи-ржкрж╛рж▓ржи ржХрж░рждрзЗ ржерж╛ржХрзЗред ржЕржмрж╢рзЗрж╖рзЗ ржПржХржжрж┐ржи рждрж╛ ржкрж╛рж╣рж╛ржбрж╝ рж╕ржорждрзБрж▓рзНржп рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝.!!ЁЯЦдЁЯМ╗\n-[рж╕рж╣рзАрж╣рзБрж▓ ржмрзБржЦрж╛рж░рзА рж╣рж╛/рзнрзкрзйрзж, рззрзкрззрзж: (рждрж╛ржУрж╣рзАржж ржкрзНрж░ржХрж╛рж╢ржирзА); рж╕рж╣рзАрж╣рзБрж▓ ржорзБрж╕рж▓рж┐ржоржГ рзирзирззрзз]\n█╡",
"тАв\nтАУ ржЖржмрзВ рж╣рзБрж░рж╛ржЗрж░рж╛рж╣ ржЖржмрзНржжрзБрж░ рж░рж╣ржорж╛ржи ржЗржмржирзБрзВ рж╕рж╛ржЦрж░ рж░рж╛ржжрж┐ржпрж╝рж╛рж▓рзНрж▓рж╛рж╣рзБ тАШржЖржирж╣рзБ ржХрж░рзНрждрзГржХ ржмрж░рзНржгрж┐ржд, рж░рж╛рж╕рзВрж▓рзБрж▓рзНрж▓рж╛рж╣ рж╕рж╛рж▓рзНрж▓рж╛рж▓рзНрж▓рж╛рж╣рзБ ржЖрж▓рж╛ржЗрж╣рж┐ ржУржпрж╝рж╛рж╕рж╛рж▓рзНрж▓рж╛ржо ржмрж▓рзЗржЫрзЗржи: !!ЁЯд╕тАНтЩВя╕П\nтАУ ржирж┐рж╢рзНржЪржпрж╝ ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛тАШржЖрж▓рж╛ рждрзЛржорж╛ржжрзЗрж░ ржжрзЗрж╣ ржПржмржВ рждрзЛржорж╛ржжрзЗрж░ ржЖржХрзГрждрж┐ ржжрзЗржЦрзЗржи ржирж╛, ржмрж░ржВ рждрж┐ржирж┐ рждрзЛржорж╛ржжрзЗрж░ ржЕржирзНрждрж░ ржУ ржЖржорж▓ ржжрзЗржЦрзЗржи.!!ЁЯЦдЁЯМ╗\n- [рж╕рж╣рзАрж╣рзБрж▓ ржмрзБржЦрж╛рж░рзА рзлрззрзкрзк, рзмрзжрзмрзм, ржорзБрж╕рж▓рж┐ржо рзирзлрзмрзк] \n█╡",
		// ржПржЦрж╛ржирзЗ ржЖрж░ржУ рж╣рж╛ржжрж┐рж╕ ржпрзЛржЧ ржХрж░рзБржи
	];

	const queries = ["Muslim worshiping and praying", "Kaaba image", "beautiful flower","madina","beautiful masjid","Quran","best masjid in the world","beautiful masjid al aqsa"]; // рж╕рж╛рж░рзНржЪ ржХрзЛржпрж╝рзЗрж░рж┐рж░ ржЕрзНржпрж╛рж░рзЗ

	try {
		const randomQuery = queries[Math.floor(Math.random() * queries.length)]; // рж░рзЗржиржбржо ржХрзЛржпрж╝рзЗрж░рж┐ ржирж┐рж░рзНржмрж╛ржЪржи
		let result = await google.image(randomQuery, { safe: false });
		if (result.length === 0) return; // ржХрзЛржирзЛ ржорзЗрж╕рзЗржЬ ржкрзНрж░ржжрж░рзНрж╢ржи ржирж╛ ржХрж░рзЗ ржлрж╛ржВрж╢ржи ржерзЗржХрзЗ ржмрзЗрж░ рж╣ржпрж╝рзЗ ржпрж╛ржмрзЗ

		const randomIndex = Math.floor(Math.random() * result.length);
		const imageUrl = result[randomIndex].url;
		const randomHadis = hadisList[Math.floor(Math.random() * hadisList.length)]; // рж░рзЗржиржбржо рж╣рж╛ржжрж┐рж╕ ржирж┐рж░рзНржмрж╛ржЪржи

		let path = __dirname + `/cache/image.jpg`;
		let buffer = await cloudscraper.get({ uri: imageUrl, encoding: null });
		fs.writeFileSync(path, buffer);

		api.sendMessage({ body: randomHadis, attachment: fs.createReadStream(path) }, event.threadID, () => {
			fs.unlinkSync(path); // ржбрж╛ржЙржирж▓рзЛржб ржХрж░рж╛ ржЫржмрж┐ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ рж╣ржпрж╝рзЗржЫрзЗ
		});
	} catch (error) {
		// ржХрзЛржирзЛ ржзрж░ржирзЗрж░ рждрзНрж░рзБржЯрж┐ ржмрж╛ рж╕ржорж╕рзНржпрж╛ ржорзЗрж╕рзЗржЬ ржкрзНрж░ржжрж░рзНрж╢ржи ржирж╛ ржХрж░рзЗ ржлрж╛ржВрж╢ржи ржерзЗржХрзЗ ржмрзЗрж░ рж╣ржпрж╝рзЗ ржпрж╛ржмрзЗ
		return;
	}
};
